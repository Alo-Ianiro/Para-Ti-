<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Te Amo ❤️</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
}
canvas {
  display: block;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

// 9:16 fisso (TikTok)
canvas.width = 720;
canvas.height = 1280;

const cx = canvas.width / 2;
const cy = canvas.height / 2 + 100;

// ===== STELLE =====
const stars = Array.from({ length: 200 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 1.5,
  a: Math.random()
}));

// ===== LETTERE VOLANTI =====
const letters = [];
const message = "TE AMO";
[...message].forEach((l, i) => {
  letters.push({
    char: l,
    x: Math.random() * canvas.width,
    y: canvas.height + Math.random() * 500,
    speed: 0.5 + Math.random(),
    size: 24 + Math.random() * 20
  });
});

// ===== CUORE =====
let t = 0;
let points = [];
let pulse = 0;

function heart(t) {
  return {
    x: 16 * Math.pow(Math.sin(t), 3),
    y: -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t))
  };
}

function drawStars() {
  stars.forEach(s => {
    ctx.globalAlpha = s.a;
    ctx.fillStyle = "white";
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
    ctx.fill();
  });
  ctx.globalAlpha = 1;
}

function drawLetters() {
  ctx.fillStyle = "#ff4d6d";
  ctx.shadowColor = "#ff4d6d";
  ctx.shadowBlur = 15;
  letters.forEach(l => {
    ctx.font = `${l.size}px Arial`;
    ctx.fillText(l.char, l.x, l.y);
    l.y -= l.speed;
    if (l.y < -50) l.y = canvas.height + Math.random() * 300;
  });
  ctx.shadowBlur = 0;
}

function drawText() {
  ctx.font = "bold 64px Arial";
  ctx.fillStyle = "#ff4d6d";
  ctx.textAlign = "center";
  ctx.shadowColor = "#ff4d6d";
  ctx.shadowBlur = 30;
  ctx.fillText("Te amo Giulia", cx, 200);
  ctx.shadowBlur = 0;
}

function animate() {
  ctx.fillStyle = "rgba(5,0,16,0.25)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  drawStars();
  drawLetters();
  drawText();

  // disegno cuore
  if (t < Math.PI * 2) {
    points.push(heart(t));
    t += 0.05;
  }

  pulse += 0.05;
  const scale = 12 + Math.sin(pulse) * 0.8;

  ctx.fillStyle = "#ff4d6d";
  ctx.shadowColor = "#ff4d6d";
  ctx.shadowBlur = 20;

  points.forEach(p => {
    ctx.beginPath();
    ctx.arc(
      cx + p.x * scale,
      cy + p.y * scale,
      3,
      0,
      Math.PI * 2
    );
    ctx.fill();
  });

  ctx.shadowBlur = 0;
  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
